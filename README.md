# OpenAPI TypeScript Client with Generated Functions

A type-safe TypeScript client that generates functions like `getPosts()`, `createPost()`, etc. from your OpenAPI 3.1 specification.

## ğŸš€ Features

- âœ… **Generated Functions**: `getPosts()`, `createPost()`, `updatePost()`, etc.
- âœ… **Full Type Safety**: All parameters and responses are TypeScript typed
- âœ… **Service Layer**: Clean business logic separation
- âœ… **Multiple Clients**: Axios, Fetch support
- âœ… **Auto-regeneration**: Easy updates when API changes
- âœ… **Validation**: JSON schemas for runtime validation

## ğŸ“ Project Structure

```
src/
â”œâ”€â”€ generated/           # ğŸ¯ Generated by @hey-api/openapi-ts
â”‚   â”œâ”€â”€ sdk.ts          # YOUR FUNCTIONS: getPosts(), createPost(), etc.
â”‚   â”œâ”€â”€ types.ts        # TypeScript interfaces
â”‚   â”œâ”€â”€ client.ts       # HTTP client
â”‚   â””â”€â”€ schemas.json    # Validation schemas
â”œâ”€â”€ services/           # Business logic layer
â”‚   â””â”€â”€ blog.service.ts # Service wrapper
â”œâ”€â”€ utils/              # Utilities
â””â”€â”€ index.ts           # Main exports
```

## ğŸ› ï¸ Setup

1. **Install dependencies:**
   ```bash
   yarn install
   ```

2. **Replace `openapi.yaml` with your API specification**

3. **Generate your API functions:**
   ```bash
   yarn generate
   ```

## ğŸ’» Usage

### Option 1: Service Layer (Recommended)
```typescript
import { createBlogService } from './src';

const blogService = createBlogService('https://api.example.com', 'your-token');

// Clean, simple API
const posts = await blogService.getAllPosts(10, 0);
const newPost = await blogService.createNewPost({
  title: 'My Post',
  content: 'Content here',
  authorId: 'user-123'
});
```

### Option 2: Direct Functions
```typescript
import { createClient, getPosts, createPost } from './src';

const client = createClient({
  baseUrl: 'https://api.example.com',
  headers: { 'Authorization': 'Bearer token' }
});

// Direct function calls
const posts = await getPosts({ client, query: { limit: 10 } });
const newPost = await createPost({ client, body: { title: 'Post' } });
```

## ğŸ“ Generated Functions

Based on your OpenAPI spec, you'll get functions like:

- `getPosts(options)` - List posts
- `createPost(options)` - Create new post  
- `getPost(options)` - Get specific post
- `updatePost(options)` - Update post
- `deletePost(options)` - Delete post

## ğŸ”„ Development Workflow

1. **Modify your OpenAPI spec** â†’ `openapi.yaml`
2. **Regenerate functions** â†’ `yarn generate`
3. **Use new functions** â†’ Import and use immediately
4. **Build services** â†’ Add business logic in `src/services/`

## ğŸ§ª Testing

```bash
yarn test          # Run tests
yarn test:watch    # Watch mode
```

## ğŸ”§ Scripts

- `yarn generate` - Generate API functions from OpenAPI spec
- `yarn build` - Build TypeScript
- `yarn dev` - Development mode
- `yarn test` - Run tests
- `yarn lint` - Lint code

## ğŸ“‹ Example OpenAPI Spec

The included `openapi.yaml` shows how to structure your spec for optimal function generation. Key points:

- Use `operationId` for clean function names
- Define comprehensive schemas
- Include proper response types

## ğŸ¯ Why This Approach?

- **Type Safety**: Catch errors at compile time
- **Auto-sync**: API changes automatically update your client
- **Clean Code**: Generated functions + service layer = maintainable code
- **Fast Development**: No manual HTTP client code
- **Modern**: Uses latest OpenAPI 3.1 features

Happy coding! ğŸš€
